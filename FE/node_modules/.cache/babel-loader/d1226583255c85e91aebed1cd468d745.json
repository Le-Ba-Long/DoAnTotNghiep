{"ast":null,"code":"import _objectSpread from \"F:/Do An Tot Nghiep/FE/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"F:/Do An Tot Nghiep/FE/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"F:/Do An Tot Nghiep/FE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"F:/Do An Tot Nghiep/FE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"F:\\\\Do An Tot Nghiep\\\\FE\\\\src\\\\app\\\\views\\\\material-kit\\\\auto-complete\\\\AsyncAutocomplete.jsx\",\n    _s = $RefreshSig$();\n\n// *https://www.registers.service.gov.uk/registers/country/use-the-api*\nimport { Autocomplete, CircularProgress, styled, TextField } from '@mui/material';\nimport fetch from 'cross-fetch';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar AutoComplete = styled(Autocomplete)(function () {\n  return {\n    width: 300\n  };\n});\n\nfunction sleep() {\n  var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, delay);\n  });\n}\n\nexport default function AsyncAutocomplete() {\n  _s();\n\n  var _this = this;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      options = _React$useState4[0],\n      setOptions = _React$useState4[1];\n\n  var loading = open && options.length === 0;\n  React.useEffect(function () {\n    var active = true;\n\n    if (!loading) {\n      return undefined;\n    }\n\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, countries;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('https://country.register.gov.uk/records.json?page-size=5000');\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return sleep(3000);\n\n            case 5:\n              _context.next = 7;\n              return response.json();\n\n            case 7:\n              countries = _context.sent;\n\n              if (active) {\n                setOptions(Object.keys(countries).map(function (key) {\n                  return countries[key].item[0];\n                }));\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n\n    return function () {\n      active = false;\n    };\n  }, [loading]);\n  React.useEffect(function () {\n    if (!open) {\n      setOptions([]);\n    }\n  }, [open]);\n  return /*#__PURE__*/_jsxDEV(AutoComplete, {\n    open: open,\n    options: options,\n    loading: loading,\n    id: \"asynchronous-demo\",\n    onOpen: function onOpen() {\n      return setOpen(true);\n    },\n    onClose: function onClose() {\n      return setOpen(false);\n    },\n    getOptionLabel: function getOptionLabel(option) {\n      return option.name;\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, params), {}, {\n        fullWidth: true,\n        variant: \"outlined\",\n        label: \"Asynchronous\",\n        InputProps: _objectSpread(_objectSpread({}, params.InputProps), {}, {\n          endAdornment: /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"inherit\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 28\n            }, _this) : null, params.InputProps.endAdornment]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, _this)\n        })\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AsyncAutocomplete, \"NAnsH/wQUpBOztFs1nPXEavBw+I=\");\n\n_c = AsyncAutocomplete;\n\nvar _c;\n\n$RefreshReg$(_c, \"AsyncAutocomplete\");","map":{"version":3,"names":["Autocomplete","CircularProgress","styled","TextField","fetch","React","AutoComplete","width","sleep","delay","Promise","resolve","setTimeout","AsyncAutocomplete","useState","open","setOpen","options","setOptions","loading","length","useEffect","active","undefined","response","json","countries","Object","keys","map","key","item","option","name","params","InputProps","endAdornment"],"sources":["F:/Do An Tot Nghiep/FE/src/app/views/material-kit/auto-complete/AsyncAutocomplete.jsx"],"sourcesContent":["// *https://www.registers.service.gov.uk/registers/country/use-the-api*\r\nimport { Autocomplete, CircularProgress, styled, TextField } from '@mui/material';\r\nimport fetch from 'cross-fetch';\r\nimport React from 'react';\r\n\r\nconst AutoComplete = styled(Autocomplete)(() => ({ width: 300 }));\r\n\r\nfunction sleep(delay = 0) {\r\n  return new Promise((resolve) => setTimeout(resolve, delay));\r\n}\r\n\r\nexport default function AsyncAutocomplete() {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [options, setOptions] = React.useState([]);\r\n  const loading = open && options.length === 0;\r\n\r\n  React.useEffect(() => {\r\n    let active = true;\r\n\r\n    if (!loading) {\r\n      return undefined;\r\n    }\r\n\r\n    (async () => {\r\n      const response = await fetch('https://country.register.gov.uk/records.json?page-size=5000');\r\n      await sleep(3000); // For demo purposes.\r\n      const countries = await response.json();\r\n\r\n      if (active) {\r\n        setOptions(Object.keys(countries).map((key) => countries[key].item[0]));\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, [loading]);\r\n\r\n  React.useEffect(() => {\r\n    if (!open) {\r\n      setOptions([]);\r\n    }\r\n  }, [open]);\r\n\r\n  return (\r\n    <AutoComplete\r\n      open={open}\r\n      options={options}\r\n      loading={loading}\r\n      id=\"asynchronous-demo\"\r\n      onOpen={() => setOpen(true)}\r\n      onClose={() => setOpen(false)}\r\n      getOptionLabel={(option) => option.name}\r\n      renderInput={(params) => (\r\n        <TextField\r\n          {...params}\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          label=\"Asynchronous\"\r\n          InputProps={{\r\n            ...params.InputProps,\r\n            endAdornment: (\r\n              <React.Fragment>\r\n                {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\r\n                {params.InputProps.endAdornment}\r\n              </React.Fragment>\r\n            ),\r\n          }}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}