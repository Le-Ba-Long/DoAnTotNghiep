{"ast":null,"code":"\"use strict\";\n\nvar utils = require(\"./utils\");\n\nfunction transformRequest(data) {\n  if (utils.isArrayBuffer(data) || utils.isBuffer(data) || utils.isStream(data) || utils.isBlob(data)) {\n    return data;\n  } // Object and Array: returns a deep copy\n\n\n  if (utils.isObjectOrArray(data)) {\n    return JSON.parse(JSON.stringify(data));\n  } // for primitives like string, undefined, null, number\n\n\n  return data;\n}\n\nfunction makeResponse(result, config) {\n  return {\n    status: result[0],\n    data: transformRequest(result[1]),\n    headers: result[2],\n    config: config,\n    request: {\n      responseURL: config.url\n    }\n  };\n}\n\nfunction handleRequest(mockAdapter, resolve, reject, config) {\n  var url = config.url || \"\"; // TODO we're not hitting this `if` in any of the tests, investigate\n\n  if (config.baseURL && url.substr(0, config.baseURL.length) === config.baseURL) {\n    url = url.slice(config.baseURL.length);\n  }\n\n  delete config.adapter;\n  mockAdapter.history[config.method].push(config);\n  var handler = utils.findHandler(mockAdapter.handlers, config.method, url, config.data, config.params, config.headers, config.baseURL);\n\n  if (handler) {\n    if (handler.length === 7) {\n      utils.purgeIfReplyOnce(mockAdapter, handler);\n    }\n\n    if (handler.length === 2) {\n      // passThrough handler\n      mockAdapter.originalAdapter(config).then(resolve, reject);\n    } else if (typeof handler[3] !== \"function\") {\n      utils.settle(resolve, reject, makeResponse(handler.slice(3), config), mockAdapter.delayResponse);\n    } else {\n      var result = handler[3](config); // TODO throw a sane exception when return value is incorrect\n\n      if (typeof result.then !== \"function\") {\n        utils.settle(resolve, reject, makeResponse(result, config), mockAdapter.delayResponse);\n      } else {\n        result.then(function (result) {\n          if (result.config && result.status) {\n            utils.settle(resolve, reject, makeResponse([result.status, result.data, result.headers], result.config), 0);\n          } else {\n            utils.settle(resolve, reject, makeResponse(result, config), mockAdapter.delayResponse);\n          }\n        }, function (error) {\n          if (mockAdapter.delayResponse > 0) {\n            setTimeout(function () {\n              reject(error);\n            }, mockAdapter.delayResponse);\n          } else {\n            reject(error);\n          }\n        });\n      }\n    }\n  } else {\n    // handler not found\n    switch (mockAdapter.onNoMatch) {\n      case \"passthrough\":\n        mockAdapter.originalAdapter(config).then(resolve, reject);\n        break;\n\n      case \"throwException\":\n        throw utils.createCouldNotFindMockError(config);\n\n      default:\n        utils.settle(resolve, reject, {\n          status: 404,\n          config: config\n        }, mockAdapter.delayResponse);\n    }\n  }\n}\n\nmodule.exports = handleRequest;","map":{"version":3,"names":["utils","require","transformRequest","data","isArrayBuffer","isBuffer","isStream","isBlob","isObjectOrArray","JSON","parse","stringify","makeResponse","result","config","status","headers","request","responseURL","url","handleRequest","mockAdapter","resolve","reject","baseURL","substr","length","slice","adapter","history","method","push","handler","findHandler","handlers","params","purgeIfReplyOnce","originalAdapter","then","settle","delayResponse","error","setTimeout","onNoMatch","createCouldNotFindMockError","module","exports"],"sources":["F:/Do An Tot Nghiep/FE/node_modules/axios-mock-adapter/src/handle_request.js"],"sourcesContent":["\"use strict\";\n\nvar utils = require(\"./utils\");\n\nfunction transformRequest(data) {\n  if (\n    utils.isArrayBuffer(data) ||\n    utils.isBuffer(data) ||\n    utils.isStream(data) ||\n    utils.isBlob(data)\n  ) {\n    return data;\n  }\n\n  // Object and Array: returns a deep copy\n  if (utils.isObjectOrArray(data)) {\n    return JSON.parse(JSON.stringify(data));\n  }\n\n  // for primitives like string, undefined, null, number\n  return data;\n}\n\nfunction makeResponse(result, config) {\n  return {\n    status: result[0],\n    data: transformRequest(result[1]),\n    headers: result[2],\n    config: config,\n    request: {\n      responseURL: config.url,\n    },\n  };\n}\n\nfunction handleRequest(mockAdapter, resolve, reject, config) {\n  var url = config.url || \"\";\n  // TODO we're not hitting this `if` in any of the tests, investigate\n  if (\n    config.baseURL &&\n    url.substr(0, config.baseURL.length) === config.baseURL\n  ) {\n    url = url.slice(config.baseURL.length);\n  }\n\n  delete config.adapter;\n  mockAdapter.history[config.method].push(config);\n\n  var handler = utils.findHandler(\n    mockAdapter.handlers,\n    config.method,\n    url,\n    config.data,\n    config.params,\n    config.headers,\n    config.baseURL\n  );\n\n  if (handler) {\n    if (handler.length === 7) {\n      utils.purgeIfReplyOnce(mockAdapter, handler);\n    }\n\n    if (handler.length === 2) {\n      // passThrough handler\n      mockAdapter.originalAdapter(config).then(resolve, reject);\n    } else if (typeof handler[3] !== \"function\") {\n      utils.settle(\n        resolve,\n        reject,\n        makeResponse(handler.slice(3), config),\n        mockAdapter.delayResponse\n      );\n    } else {\n      var result = handler[3](config);\n      // TODO throw a sane exception when return value is incorrect\n      if (typeof result.then !== \"function\") {\n        utils.settle(\n          resolve,\n          reject,\n          makeResponse(result, config),\n          mockAdapter.delayResponse\n        );\n      } else {\n        result.then(\n          function (result) {\n            if (result.config && result.status) {\n              utils.settle(\n                resolve,\n                reject,\n                makeResponse(\n                  [result.status, result.data, result.headers],\n                  result.config\n                ),\n                0\n              );\n            } else {\n              utils.settle(\n                resolve,\n                reject,\n                makeResponse(result, config),\n                mockAdapter.delayResponse\n              );\n            }\n          },\n          function (error) {\n            if (mockAdapter.delayResponse > 0) {\n              setTimeout(function () {\n                reject(error);\n              }, mockAdapter.delayResponse);\n            } else {\n              reject(error);\n            }\n          }\n        );\n      }\n    }\n  } else {\n    // handler not found\n    switch (mockAdapter.onNoMatch) {\n      case \"passthrough\":\n        mockAdapter.originalAdapter(config).then(resolve, reject);\n        break;\n      case \"throwException\":\n        throw utils.createCouldNotFindMockError(config);\n      default:\n        utils.settle(\n          resolve,\n          reject,\n          {\n            status: 404,\n            config: config,\n          },\n          mockAdapter.delayResponse\n        );\n    }\n  }\n}\n\nmodule.exports = handleRequest;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}